<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ProtectQube Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap"
      rel="stylesheet"
    />

    <link href="/styles.css" rel="stylesheet" />
    <link rel="stylesheet" href="report.css">

    <script src="/script.js"></script>
    <script src="/"></script>


  </head>
  <body class="bg-gray-50 dark:bg-gray-900 theme-transition">
    <!-- Sidebar -->
<div
id="sidebar"
class="fixed inset-y-0 left-0 shadow-lg -translate-x-full transition-transform duration-300 ease-in-out bg-white dark:bg-gray-800 w-64 z-50 flex flex-col"
>
<!-- Header -->
<div
  class="flex items-center justify-between h-16 px-6 border-b border-dark-100 dark:border-gray-700 flex-shrink-0"
>
  <div class="flex items-center">
    <div
      class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full h-8 w-8 flex items-center justify-center shadow-md"
    >
      MZ
    </div>
    <div class="ml-2 hidden md:flex flex-col">
      <span class="text-sm font-medium text-gray-700 dark:text-gray-300">
        M. Zein
      </span>
      <span class="text-xs text-gray-500 dark:text-gray-400">
        Superadmin
      </span>
    </div>
  </div>

  <button
    id="closeSidebar"
    class="text-grey-500 dark:text-white/80 hover:text-orange-800 dark:hover:text-orange-800"
  >
    <i class="fas fa-times"></i>
  </button>
</div>

<!-- Sidebar Content (scrollable) -->
<div class="flex-1 overflow-y-auto px-4 py-2">
  <!-- Dashboard Section -->
  <div class="py-2">
    <div
      class="text-xs font-bold uppercase tracking-wider text-dark-600 dark:text-orange-400 mb-2"
    >
      DASHBOARD
    </div>
    <ul>
      <!-- Reusable List Item -->
      <li>
        <a href="/" class="group flex items-center px-3 py-2 text-xs text-dark-800 hover:bg-orange-50 dark:text-orange-300 dark:hover:bg-orange-900/30 rounded-md transition-all duration-200">
          <i class="fas fa-desktop w-5 text-center mr-2 text-dark-500 group-hover:text-orange-600 dark:text-orange-400 dark:group-hover:text-orange-300 transition-all"></i>
          <span class="transition-all duration-300 group-hover:text-orange-600 dark:group-hover:text-orange-300 transform group-hover:translate-x-1">Monitoring</span>
        </a>
      </li>

      <li>
        <a href="report-analytics.html" class="group flex items-center px-3 py-2 text-xs text-dark-800 hover:bg-orange-50 dark:text-orange-300 dark:hover:bg-orange-900/30 rounded-md transition-all duration-200">
          <i class="fas fa-chart-line w-5 text-center mr-2 text-dark-500 group-hover:text-orange-600 dark:text-orange-400 dark:group-hover:text-orange-300 transition-all"></i>
          <span class="transition-all duration-300 group-hover:text-orange-600 dark:group-hover:text-orange-300 transform group-hover:translate-x-1">Report Analytics</span>
        </a>
      </li>
      <li>
        <a
          href="#"
          class="group flex items-center px-3 py-2 text-xs text-dark-800 hover:bg-orange-50 dark:text-orange-300 dark:hover:bg-orange-900/30 rounded-md transition-all duration-200"
        >
          <i
            class="fas fa-key w-5 text-center mr-2 text-dark-500 group-hover:text-orange-600 dark:text-orange-400 dark:group-hover:text-orange-300 transition-all"
          >
          </i>
          <span
            class="transition-all duration-300 group-hover:text-orange-600 dark:group-hover:text-orange-300 transform group-hover:translate-x-1"
            >Willowmore</span
          >
        </a>
      </li>
      <li>
        <a
          href="#"
          class="group flex items-center px-3 py-2 text-xs text-dark-800 hover:bg-orange-50 dark:text-orange-300 dark:hover:bg-orange-900/30 rounded-md transition-all duration-200"
        >
          <i
            class="fas fa-cube w-5 text-center mr-2 text-dark-500 group-hover:text-orange-600 dark:text-orange-400 dark:group-hover:text-orange-300 transition-all"
          >
          </i>
          <span
            class="transition-all duration-300 group-hover:text-orange-600 dark:group-hover:text-orange-300 transform group-hover:translate-x-1"
            >Assets Tracking</span
          >
        </a>
      </li>
      <li>
        <a
          href="/fuel.html"
          class="group flex items-center px-3 py-2 text-xs text-dark-800 hover:bg-orange-50 dark:text-orange-300 dark:hover:bg-orange-900/30 rounded-md transition-all duration-200"
        >
          <i
            class="fas fa-battery-half w-5 text-center mr-2 text-dark-500 group-hover:text-orange-600 dark:text-orange-400 dark:group-hover:text-orange-300 transition-all"
          >
          </i>
          <span
            class="transition-all duration-300 group-hover:text-orange-600 dark:group-hover:text-orange-300 transform group-hover:translate-x-1"
            >Fuel Monitoring</span
          >
        </a>
      </li>
    </ul>
  </div>

  <!-- HISTORY & ARCHIVE Section -->
  <div class="py-2">
    <div class="text-xs font-bold uppercase tracking-wider text-dark-600 dark:text-indigo-400 mb-2">HISTORY & ARCHIVE</div>
    <ul>
      <li>
        <a href="#" class="group flex items-center px-3 py-2 text-xs text-dark-800 hover:bg-indigo-50 dark:text-indigo-300 dark:hover:bg-indigo-900/30 rounded-md transition-all duration-200">
          <i class="fas fa-bell w-5 text-center mr-2 text-dark-500 group-hover:text-indigo-600 dark:text-indigo-400 dark:group-hover:text-indigo-300 transition-all"></i>
          <span class="transition-all duration-300 group-hover:text-indigo-600 dark:group-hover:text-indigo-300 transform group-hover:translate-x-1">Archive Alert</span>
        </a>
      </li>
      <li>
        <a
          href="#"
          class="group flex items-center px-3 py-2 text-xs text-dark-800 hover:bg-indigo-50 dark:text-indigo-300 dark:hover:bg-indigo-900/30 rounded-md transition-all duration-200"
        >
          <i
            class="fas fa-heart w-5 text-center mr-2 text-dark-500 group-hover:text-indigo-600 dark:text-indigo-400 dark:group-hover:text-indigo-300 transition-all"
          ></i>
          <span
            class="transition-all duration-300 group-hover:text-indigo-600 dark:group-hover:text-indigo-300 transform group-hover:translate-x-1"
            >Archive Health</span
          >
        </a>
      </li>
      <li>
        <a
          href="#"
          class="group flex items-center px-3 py-2 text-xs text-dark-800 hover:bg-indigo-50 dark:text-indigo-300 dark:hover:bg-indigo-900/30 rounded-md transition-all duration-200"
        >
          <i
            class="fas fa-snowflake w-5 text-center mr-2 text-dark-500 group-hover:text-indigo-600 dark:text-indigo-400 dark:group-hover:text-indigo-300 transition-all"
          ></i>
          <span
            class="transition-all duration-300 group-hover:text-indigo-600 dark:group-hover:text-indigo-300 transform group-hover:translate-x-1"
            >Freeze</span
          >
        </a>
      </li>
    </ul>
  </div>

  <!-- MASTER DATA Section -->
  <div class="py-2">
    <div class="text-xs font-bold uppercase tracking-wider text-dark-600 dark:text-emerald-400 mb-2">MASTER DATA</div>
    <ul>
      <li class="mb-1">
        <div class="menu-item">
          <a href="#" class="group flex items-center justify-between px-3 py-2 text-xs text-dark-800 hover:bg-emerald-50 dark:text-emerald-300 dark:hover:bg-emerald-900/30 rounded-md transition-all duration-200">
            <div class="flex items-center">
              <i class="fas fa-tablet-alt w-5 text-center mr-2 text-dark-500 group-hover:text-emerald-600 dark:text-emerald-400 dark:group-hover:text-emerald-300 transition-all"></i>
              <span class="transition-all duration-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-300 transform group-hover:translate-x-1">Devices</span>
            </div>
            <i class="fas fa-chevron-right text-xs text-dark-500 group-hover:text-dark-600 dark:text-emerald-400 dark:group-hover:text-emerald-300 transition-transform duration-300 group-hover:rotate-90"></i>
          </a>
          <div class="submenu overflow-hidden max-h-0 transition-all duration-300 ease-in-out">
            <a href="#" class="block pl-10 py-2 text-xs text-dark-700 hover:text-emerald-600 dark:text-emerald-400 dark:hover:text-emerald-300 transition-all duration-300 hover:translate-x-1 transform">All Devices</a>
            <a href="#" class="block pl-10 py-2 text-xs text-dark-700 hover:text-emerald-600 dark:text-dark-400 dark:hover:text-emerald-300 transition-all duration-300 hover:translate-x-1 transform">Add Device</a>
          </div>
        </div>
      </li>
      <li>
        <a
          href="#"
          class="group flex items-center px-3 py-2 text-xs text-dark-800 hover:bg-emerald-50 dark:text-emerald-300 dark:hover:bg-emerald-900/30 rounded-md transition-all duration-200"
        >
          <i
            class="fas fa-user w-5 text-center mr-2 text-dark-500 group-hover:text-emerald-600 dark:text-emerald-400 dark:group-hover:text-emerald-300 transition-all"
          ></i>
          <span
            class="transition-all duration-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-300 transform group-hover:translate-x-1"
            >Owner</span
          >
        </a>
      </li>
      <li>
        <a
          href="#"
          class="group flex items-center px-3 py-2 text-xs text-dark-800 hover:bg-emerald-50 dark:text-emerald-300 dark:hover:bg-emerald-900/30 rounded-md transition-all duration-200"
        >
          <i
            class="fas fa-briefcase w-5 text-center mr-2 text-dark-500 group-hover:text-emerald-600 dark:text-emerald-400 dark:group-hover:text-emerald-300 transition-all"
          ></i>
          <span
            class="transition-all duration-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-300 transform group-hover:translate-x-1"
            >Holder</span
          >
        </a>
      </li>
    </ul>
  </div>

  <!-- SYSTEM ADMINISTRATOR Section -->
  <div class="py-2">
    <div class="text-xs font-bold uppercase tracking-wider text-dark-600 dark:text-purple-400 mb-2">SYSTEM ADMINISTRATOR</div>
    <ul>
      <li>
        <a href="#" class="group flex items-center px-3 py-2 text-xs text-dark-800 hover:bg-purple-50 dark:text-purple-300 dark:hover:bg-purple-900/30 rounded-md transition-all duration-200">
          <i class="fas fa-terminal w-5 text-center mr-2 text-dark-500 group-hover:text-purple-600 dark:text-purple-400 dark:group-hover:text-purple-300 transition-all"></i>
          <span class="transition-all duration-300 group-hover:text-purple-600 dark:group-hover:text-purple-300 transform group-hover:translate-x-1">Command Log</span>
        </a>
      </li>
      <li class="mb-1">
        <div class="menu-item">
          <a
            href="#"
            class="group flex items-center justify-between px-3 py-2 text-xs text-dark-800 hover:bg-purple-50 dark:text-purple-300 dark:hover:bg-purple-900/30 rounded-md transition-all duration-200"
          >
            <div class="flex items-center">
              <i
                class="fas fa-users w-5 text-center mr-2 text-dark-500 group-hover:text-purple-600 dark:text-purple-400 dark:group-hover:text-purple-300 transition-all"
              ></i>
              <span
                class="transition-all duration-300 group-hover:text-purple-600 dark:group-hover:text-purple-300 transform group-hover:translate-x-1"
                >User Manager</span
              >
            </div>
            <i
              class="fas fa-chevron-right text-xs text-grey-500 group-hover:text-purple-600 dark:text-purple-400 dark:group-hover:text-purple-300 transition-transform duration-300 group-hover:rotate-90"
            ></i>
          </a>
          <div
            class="submenu overflow-hidden max-h-0 transition-all duration-300 ease-in-out"
          >
            <a
              href="#"
              class="block pl-10 py-2 text-xs text-dark-700 hover:text-purple-600 dark:text-purple-400 dark:hover:text-purple-300 transition-all duration-300 hover:translate-x-1 transform"
            >
              All Users
            </a>
            <a
              href="#"
              class="block pl-10 py-2 text-xs text-dark-700 hover:text-purple-600 dark:text-dark-400 dark:hover:text-purple-300 transition-all duration-300 hover:translate-x-1 transform"
            >
              Add User
            </a>
          </div>
        </div>
      </li>
      <li>
        <a
          href="#"
          class="group flex items-center px-3 py-2 text-xs text-grey-800 hover:bg-purple-50 dark:text-purple-300 dark:hover:bg-purple-900/30 rounded-md transition-all duration-200"
        >
          <i
            class="fas fa-user-tag w-5 text-center mr-2 text-grey-500 group-hover:text-purple-600 dark:text-purple-400 dark:group-hover:text-purple-300 transition-all"
          ></i>
          <span
            class="transition-all duration-300 group-hover:text-purple-600 dark:group-hover:text-purple-300 transform group-hover:translate-x-1"
            >Roles</span
          >
        </a>
      </li>
      <li>
        <a
          href="#"
          class="group flex items-center px-3 py-2 text-xs text-dark-800 hover:bg-purple-50 dark:text-purple-300 dark:hover:bg-purple-900/30 rounded-md transition-all duration-200"
        >
          <i
            class="fas fa-cube w-5 text-center mr-2 text-dark-500 group-hover:text-purple-600 dark:text-purple-400 dark:group-hover:text-purple-300 transition-all"
          ></i>
          <span
            class="transition-all duration-300 group-hover:text-purple-600 dark:group-hover:text-purple-300 transform group-hover:translate-x-1"
            >Module Manager</span
          >
        </a>
      </li>
    </ul>
  </div>
</div>
</div>


    <!-- Navbar -->
    <nav
    class="sticky top-0 z-50 bg-white dark:bg-gray-800 shadow-md border-b border-gray-200 dark:border-gray-700 theme-transition"
  >
    <!-- Removed max-width container to allow full-width layout -->
    <div class="w-full px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16">
        <!-- Left section - pushed to the left edge -->
        <div class="flex items-center">
          <button
            id="toggleSidebar"
            class="text-gray-500 dark:text-gray-400 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700"
          >
            <i class="fas fa-bars"></i>
          </button>
          <img
            id="modeImage"
            src="https://protectqube.com/wp-content/uploads/2025/01/logo.png"
            alt="Logo"
            class="h-10 ml-2 w-25"
          />
        </div>

        <!-- Right section - pushed to the right edge -->
        <div class="flex items-center">
          <!-- Dark mode toggle -->
          <button
            id="themeToggle"
            class="p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none mr-3 transition-all duration-200"
          >
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-width="2" d="M1 1h16v16H1zm19 6h3v16H7v-3"/></svg>
          </button>

          <button
            id="darkModeToggle"
            class="p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none mr-3 transition-all duration-200"
          >
            <i class="fas fa-moon dark:hidden"></i>
            <i class="fas fa-sun hidden dark:block"></i>
          </button>

          <div class="ml-3 flex items-center">
            <div
              class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full h-8 w-8 flex items-center justify-center shadow-md"
            >
              MZ
            </div>
            <span
              class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300 hidden md:inline"
            >
              M. Zein
            </span>
          </div>
        </div>
      </div>
    </div>
  </nav>
    <!-- Notification Panel -->
    <div
      id="notificationPanel"
      class="hidden fixed right-0 mt-16 mr-4 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl z-50 border border-gray-200 dark:border-gray-700 theme-transition"
    >
      <div
        class="px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center"
      >
        <h3 class="text-lg font-medium text-gray-900 dark:text-white">
          Notifications
        </h3>
        <span class="bg-primary text-white text-xs px-2 py-1 rounded-full"
          >2 new</span
        >
      </div>
      <div class="max-h-80 overflow-y-auto">
        <a
          href="#"
          class="block px-4 py-3 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"
        >
          <div class="flex items-start">
            <div
              class="flex-shrink-0 bg-red-100 dark:bg-red-900 rounded-full p-2"
            >
              <i
                class="fas fa-exclamation-triangle text-red-600 dark:text-red-400"
              ></i>
            </div>
            <div class="ml-3">
              <p class="text-sm font-medium text-gray-900 dark:text-white">
                Critical Alert: HITACHI
              </p>
              <p class="text-xs text-gray-500 dark:text-gray-400">
                FASCIA OPEN detected 10 mins ago
              </p>
            </div>
          </div>
        </a>
        <a
          href="#"
          class="block px-4 py-3 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"
        >
          <div class="flex items-start">
            <div
              class="flex-shrink-0 bg-yellow-100 dark:bg-yellow-900 rounded-full p-2"
            >
              <i class="fas fa-bolt text-yellow-600 dark:text-yellow-400"></i>
            </div>
            <div class="ml-3">
              <p class="text-sm font-medium text-gray-900 dark:text-white">
                1000253
              </p>
              <p class="text-xs text-gray-500 dark:text-gray-400">
                POWER DOWN detected 30 mins ago
              </p>
            </div>
          </div>
        </a>
        <a
          href="#"
          class="block px-4 py-3 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"
        >
          <div class="flex items-start">
            <div
              class="flex-shrink-0 bg-blue-100 dark:bg-blue-900 rounded-full p-2"
            >
              <i
                class="fas fa-info-circle text-blue-600 dark:text-blue-400"
              ></i>
            </div>
            <div class="ml-3">
              <p class="text-sm font-medium text-gray-900 dark:text-white">
                System Update
              </p>
              <p class="text-xs text-gray-500 dark:text-gray-400">
                System maintenance scheduled for tonight
              </p>
            </div>
          </div>
        </a>
      </div>
      <div
        class="px-4 py-3 border-t border-gray-200 dark:border-gray-700 text-center"
      >
        <a
          href="#"
          class="text-sm font-medium text-primary dark:text-primary hover:text-primary-dark dark:hover:text-primary-dark"
          >View all notifications</a
        >
      </div>
    </div>

    <!-- Overlay for sidebar on mobile -->
    <!-- <div
      id="sidebarOverlay"
      class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden"
    ></div> -->





    <!-- Main Content -->
<main id="mainContent" class="bg-gray-100 dark:bg-gray-900 theme-transition">
  <div class="lg:pl-100 transition-all duration-300 theme-transition">
    <div class="flex h-screen">
      <!-- Sidebar -->
      <div class="w-80 bg-white dark:bg-gray-800 shadow-lg overflow-y-auto">
        <!-- Header -->
        <div class="p-6 border-b border-gray-200 dark:border-gray-700">
          <h2 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">ATM BSI ProtectQube</h2>

          <!-- Export Buttons -->
          <div class="flex gap-2 mb-4">
            <button class="px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors">
              EXPORT
            </button>
            <button class="px-4 py-2 bg-gray-600 text-white rounded-md text-sm font-medium hover:bg-gray-700 transition-colors">
              EXPORT RAW DATA
            </button>
          </div>

          <!-- Data Table -->
          <div class="overflow-x-auto">
            <table class="w-full text-xs">
              <thead>
                <tr class="bg-gray-50 dark:bg-gray-700">
                  <th class="px-2 py-2 text-left font-medium text-gray-900 dark:text-white">CABANG</th>
                  <th class="px-2 py-2 text-left font-medium text-gray-900 dark:text-white">KOTA</th>
                  <th class="px-2 py-2 text-left font-medium text-gray-900 dark:text-white">STATUS</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                <tr>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">BSI Sudirman</td>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">Jakarta</td>
                  <td class="px-2 py-2 text-green-600 dark:text-green-400">ACTIVE</td>
                </tr>
                <tr>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">BSI Gatot Subroto</td>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">Jakarta</td>
                  <td class="px-2 py-2 text-green-600 dark:text-green-400">ACTIVE</td>
                </tr>
                <tr>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">BSI Bandung</td>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">Bandung</td>
                  <td class="px-2 py-2 text-yellow-600 dark:text-yellow-400">MAINTENANCE</td>
                </tr>
                <tr>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">BSI Surabaya</td>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">Surabaya</td>
                  <td class="px-2 py-2 text-green-600 dark:text-green-400">ACTIVE</td>
                </tr>
                <tr>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">BSI Denpasar</td>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">Bali</td>
                  <td class="px-2 py-2 text-red-600 dark:text-red-400">OFFLINE</td>
                </tr>
                <tr>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">BSI Thamrin</td>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">Jakarta</td>
                  <td class="px-2 py-2 text-green-600 dark:text-green-400">ACTIVE</td>
                </tr>
                <tr>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">BSI Yogyakarta</td>
                  <td class="px-2 py-2 text-gray-900 dark:text-white">Yogyakarta</td>
                  <td class="px-2 py-2 text-green-600 dark:text-green-400">ACTIVE</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>


      </div>

      <!-- Map Container -->
      <div class="flex-1 relative">
        <div id="map" class="w-full h-full"></div>

        <!-- Map Attribution -->
        <div class="absolute bottom-2 left-2 bg-white dark:bg-gray-800 px-2 py-1 rounded text-xs text-gray-600 dark:text-gray-400">
          BSI ATM ProtectQube Monitoring v1.0
        </div>

        <div class="absolute bottom-2 right-2 bg-white dark:bg-gray-800 px-2 py-1 rounded text-xs text-gray-600 dark:text-gray-400">
          Copyright © 2025 BSI
        </div>
      </div>
    </div>
  </div>
</main>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>

<script>
// Initialize the map centered on Indonesia
const map = L.map('map').setView([-6.2, 106.816666], 6);

// Add tile layer
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '© OpenStreetMap contributors'
}).addTo(map);

// ATM BSI ProtectQube data points
const atmBsiData = [
    {
        lat: -6.2088,
        lng: 106.8456,
        name: 'BSI Sudirman',
        city: 'Jakarta',
        type: 'CDM',
        status: 'ACTIVE',
        protectQubeVersion: 'V2.1',
        lastUpdate: '2 min ago',
        color: '#22c55e' // green for active
    },
    {
        lat: -6.2297,
        lng: 106.8414,
        name: 'BSI Gatot Subroto',
        city: 'Jakarta',
        type: 'ATM',
        status: 'ACTIVE',
        protectQubeVersion: 'V2.1',
        lastUpdate: '5 min ago',
        color: '#22c55e' // green for active
    },
    {
        lat: -6.9039,
        lng: 107.6186,
        name: 'BSI Bandung',
        city: 'Bandung',
        type: 'CDM',
        status: 'MAINTENANCE',
        protectQubeVersion: 'V2.0',
        lastUpdate: '1 hour ago',
        color: '#eab308' // yellow for maintenance
    },
    {
        lat: -7.2575,
        lng: 112.7521,
        name: 'BSI Surabaya',
        city: 'Surabaya',
        type: 'ATM',
        status: 'ACTIVE',
        protectQubeVersion: 'V2.1',
        lastUpdate: '3 min ago',
        color: '#22c55e' // green for active
    },
    {
        lat: -8.6705,
        lng: 115.2126,
        name: 'BSI Denpasar',
        city: 'Bali',
        type: 'ATM',
        status: 'OFFLINE',
        protectQubeVersion: 'V2.0',
        lastUpdate: '2 hours ago',
        color: '#ef4444' // red for offline
    },
    {
        lat: -6.1944,
        lng: 106.8229,
        name: 'BSI Thamrin',
        city: 'Jakarta',
        type: 'ATM',
        status: 'ACTIVE',
        protectQubeVersion: 'V2.1',
        lastUpdate: '1 min ago',
        color: '#22c55e' // green for active
    },
    {
        lat: -7.7956,
        lng: 110.3695,
        name: 'BSI Yogyakarta',
        city: 'Yogyakarta',
        type: 'CDM',
        status: 'ACTIVE',
        protectQubeVersion: 'V2.1',
        lastUpdate: '4 min ago',
        color: '#22c55e' // green for active
    }
];

// Create custom markers for ATM locations
atmBsiData.forEach(atm => {
    // Create circle marker with larger clickable area
    const marker = L.circleMarker([atm.lat, atm.lng], {
        radius: 20,
        fillColor: atm.color,
        color: atm.color,
        weight: 3,
        opacity: 0.8,
        fillOpacity: 0.4
    }).addTo(map);

    // Add location name overlay
    const locationIcon = L.divIcon({
        html: `<div style="
            color: white;
            font-weight: bold;
            font-size: 9px;
            text-align: center;
            line-height: 1.2;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
            padding: 2px;
            max-width: 80px;
            word-wrap: break-word;
        ">${atm.name.replace('BSI ', '')}</div>`,
        className: 'custom-location-icon',
        iconSize: [80, 30],
        iconAnchor: [40, 15]
    });

    const textMarker = L.marker([atm.lat, atm.lng], { icon: locationIcon }).addTo(map);

    // Create popup content with detailed location info
    const popupContent = `
        <div class="p-4 min-w-64">
            <div class="font-bold text-lg mb-3 text-blue-700">${atm.name}</div>
            <div class="space-y-2 text-sm">
                <div class="flex justify-between">
                    <span class="font-medium">Kota:</span>
                    <span>${atm.city}</span>
                </div>
                <div class="flex justify-between">
                    <span class="font-medium">Status:</span>
                    <span class="px-2 py-1 rounded text-xs font-medium" style="background-color: ${atm.color}20; color: ${atm.color}">${atm.status}</span>
                </div>
                <div class="border-t pt-2 mt-3">
                    <div class="font-medium text-gray-700 mb-2">Koordinat Lokasi:</div>
                    <div class="grid grid-cols-2 gap-2 text-xs bg-gray-50 p-2 rounded">
                        <div>
                            <span class="font-medium">Latitude:</span><br>
                            <span class="font-mono">${atm.lat}</span>
                        </div>
                        <div>
                            <span class="font-medium">Longitude:</span><br>
                            <span class="font-mono">${atm.lng}</span>
                        </div>
                    </div>
                </div>
                <div class="mt-3 text-xs text-gray-500">
                    📍 Klik untuk melihat detail lokasi
                </div>
            </div>
        </div>
    `;

    // Add popup to both markers for better click area
    marker.bindPopup(popupContent);
    textMarker.bindPopup(popupContent);
});

// Add some styling for the custom markers
const style = document.createElement('style');
style.textContent = `
    .custom-location-icon {
        background: transparent !important;
        border: none !important;
        pointer-events: auto;
    }
    .leaflet-popup-content-wrapper {
        border-radius: 8px;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }
    .leaflet-popup-content {
        margin: 0 !important;
    }
    .leaflet-clickable {
        cursor: pointer;
    }
`;
document.head.appendChild(style);

// Add legend
const legend = L.control({position: 'topright'});
legend.onAdd = function (map) {
    const div = L.DomUtil.create('div', 'legend');
    div.innerHTML = `
        <div style="background: white; padding: 10px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
            <div style="font-weight: bold; margin-bottom: 8px;">Status ATM</div>
            <div style="display: flex; align-items: center; margin-bottom: 4px;">
                <div style="width: 12px; height: 12px; background: #22c55e; border-radius: 50%; margin-right: 8px;"></div>
                <span style="font-size: 12px;">Active</span>
            </div>
            <div style="display: flex; align-items: center; margin-bottom: 4px;">
                <div style="width: 12px; height: 12px; background: #eab308; border-radius: 50%; margin-right: 8px;"></div>
                <span style="font-size: 12px;">Maintenance</span>
            </div>
            <div style="display: flex; align-items: center;">
                <div style="width: 12px; height: 12px; background: #ef4444; border-radius: 50%; margin-right: 8px;"></div>
                <span style="font-size: 12px;">Offline</span>
            </div>
        </div>
    `;
    return div;
};
legend.addTo(map);
</script>

          <!-- Footer -->
          <div class="mt-8 text-center">
            <p class="text-sm text-gray-500 dark:text-gray-400">
              NEW PROTECTQUBE_V2 &copy; 2025
            </p>
          </div>
          <br/>
        </div>
      </div>

<style>
/* Animation Keyframes */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(50px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes wiggle {
  0%, 7%, 14%, 21%, 28%, 35%, 42%, 49%, 56%, 63%, 70%, 77%, 84%, 91%, 98%, 100% {
    transform: translateX(0px);
  }
  3.5% {
    transform: translateX(-2px);
  }
  10.5%, 24.5% {
    transform: translateX(2px);
  }
  17.5% {
    transform: translateX(-2px);
  }
}

@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes cardSlideIn {
  from {
    opacity: 0;
    transform: translateY(50px) scale(0.9);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes countUp {
  from {
    opacity: 0;
    transform: scale(0.5);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Animation Classes */
.animate-fadeInUp {
  animation: fadeInUp 0.8s ease-out;
}

.animate-slideInRight {
  animation: slideInRight 0.6s ease-out;
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-wiggle {
  animation: wiggle 2s ease-in-out infinite;
}

.animate-spin-slow {
  animation: spin-slow 4s linear infinite;
}

.card-animate {
  animation: cardSlideIn 0.8s ease-out;
  animation-fill-mode: both;
}

.counter-animate {
  animation: countUp 1s ease-out;
  animation-delay: 0.5s;
  animation-fill-mode: both;
}

/* Hover Effects */
.card-animate:hover {
  transform: translateY(-5px) scale(1.02);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

.card-animate:hover .animate-float {
  animation-duration: 1.5s;
}

/* Pulsing effects for alerts */
.alert-count {
  background: #ef4444;
  color: white;
  padding: 4px 8px;
  border-radius: 50%;
  font-size: 12px;
  margin-left: 8px;
  animation: pulse 2s infinite;
}

/* Real-time feed animations */
.real-time-feed .alert-item:hover {
  transform: translateX(5px);
  background: rgba(59, 130, 246, 0.05);
}

/* Enhanced transitions */
* {
  transition: all 0.3s ease;
}

/* Loading animation for counters */
.counter-animate[data-target] {
  opacity: 0;
}

/* Gradient text effects */
.text-gradient {
  background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
</style>

<script>
// Counter animation
function animateCounters() {
  const counters = document.querySelectorAll('.counter-animate[data-target]');

  counters.forEach(counter => {
    const target = parseInt(counter.getAttribute('data-target'));
    const duration = 2000; // 2 seconds
    const step = target / (duration / 16); // 60fps
    let current = 0;

    counter.style.opacity = '1';

    const timer = setInterval(() => {
      current += step;
      if (current >= target) {
        counter.textContent = target.toLocaleString();
        clearInterval(timer);
      } else {
        counter.textContent = Math.floor(current).toLocaleString();
      }
    }, 16);
  });
}

// Start animations when page loads
document.addEventListener('DOMContentLoaded', function() {
  // Delay counter animation
  setTimeout(animateCounters, 500);

  // Add staggered animation to alert items
  const alertItems = document.querySelectorAll('.alert-item');
  alertItems.forEach((item, index) => {
    item.style.animationDelay = `${index * 0.1}s`;
  });

  // Add hover effects to cards
  const cards = document.querySelectorAll('.card-animate');
  cards.forEach(card => {
    card.addEventListener('mouseenter', function() {
      this.style.transform = 'translateY(-8px) scale(1.02)';
    });

    card.addEventListener('mouseleave', function() {
      this.style.transform = 'translateY(0) scale(1)';
    });
  });

  // Real-time updates simulation
  setInterval(() => {
    const alertCount = document.querySelector('.alert-count');
    if (alertCount) {
      alertCount.style.animation = 'none';
      setTimeout(() => {
        alertCount.style.animation = 'pulse 2s infinite';
      }, 10);
    }
  }, 5000);
});

// Add loading states
function addLoadingStates() {
  const cards = document.querySelectorAll('.card-animate');
  cards.forEach((card, index) => {
    card.style.opacity = '0';
    card.style.transform = 'translateY(50px)';

    setTimeout(() => {
      card.style.opacity = '1';
      card.style.transform = 'translateY(0)';
    }, index * 100);
  });
}

// Initialize on load
window.addEventListener('load', addLoadingStates);
</script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    <script>
        // People Counting Chart
        const peopleCountingCtx = document.getElementById('people-counting-chart').getContext('2d');
        const peopleCountingChart = new Chart(peopleCountingCtx, {
            type: 'line',
            data: {
                labels: ['ST. Bogor', 'ST. Tambun', 'ST. Bekasi', 'BLOK M', 'BSI Margonda', 'BSI Cilamaya'],
                datasets: [{
                    label: 'Total People',
                    toplocation: 'ATM Locations',
                    data: [1250, 1380, 1210, 1540, 1820, 2100],
                    borderColor: '#4361ee',
                    backgroundColor: 'rgba(67, 97, 238, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointBackgroundColor: '#4361ee',
                    pointRadius: 4,
                    pointHoverRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            drawBorder: false,
                            color: 'rgba(0, 0, 0, 0.05)'
                        },
                        ticks: {
                            font: {
                                size: 12
                            }
                        }
                    },
                    x: {
                        grid: {
                            drawBorder: false,
                            display: false
                        },
                        ticks: {
                            font: {
                                size: 12
                            }
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        backgroundColor: '#2b2d42',
                        titleFont: {
                            size: 14
                        },
                        bodyFont: {
                            size: 13
                        },
                        padding: 12,
                        displayColors: false,
                        callbacks: {
                            label: function(context) {
                                return `Total People: ${context.raw}`;
                            },

                        }
                    }
                }
            }
        });

        // Locations Distribution Chart
        const locationsCtx = document.getElementById('locations-chart').getContext('2d');
        const locationsChart = new Chart(locationsCtx, {
            type: 'doughnut',
            data: {
                labels: ['Helm Detection', 'People Counting', 'Dwell Time', 'Receipt', 'Trashbin', 'Multiple Person', 'Fascia Detection' ],
                datasets: [{
                    data: [487, 450, 652 ,1250, 150, 120, 100],
                    backgroundColor: [
                        '#4361ee',
                        '#0bb534',
                        '#f9c74f',
                        '#ef233c',
                        '#4cc9f0',
                        '#f3722c',
                        '#a5a58d'
                    ],
                    borderWidth: 0,
                    hoverOffset: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '65%',
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            font: {
                                size: 12
                            }
                        }
                    },
                    tooltip: {
                        backgroundColor: '#2b2d42',
                        titleFont: {
                            size: 14
                        },
                        bodyFont: {
                            size: 13
                        },
                        padding: 12,
                        callbacks: {
                            label: function(context) {
                                return `${context.label}: ${context.raw}`;
                            }
                        }
                    }
                }
            }
        });

        // Helm Detection Chart
        const helmCtx = document.getElementById('helm-chart').getContext('2d');
        const helmChart = new Chart(helmCtx, {
            type: 'pie',
            data: {
                labels: ['ST. Bogor', 'ST. Tambun', 'BSI Margonda', 'BSI Cibubur', 'BSI Indomaret Cikarang'],
                datasets: [{
                    data: [356, 87, 44, 23, 12],
                    backgroundColor: [
                        '#0bb534',
                        '#f9c74f',
                        '#ef233c',
                        '#4cc9f0',
                        '#4361ee'
                    ],
                    borderWidth: 0,
                    hoverOffset: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            font: {
                                size: 12
                            }
                        }
                    },
                    tooltip: {
                        backgroundColor: '#2b2d42',
                        titleFont: {
                            size: 14
                        },
                        bodyFont: {
                            size: 13
                        },
                        padding: 12
                    }
                }
            }
        });

        // Fascia Status Chart
        const fasciaCtx = document.getElementById('fascia-chart').getContext('2d');
        const fasciaChart = new Chart(fasciaCtx, {
            type: 'pie',
            data: {
                labels: ['Upper Fascia Open', 'Lower Fascia Open', 'Both Closed'],
                datasets: [{
                    data: [78, 47, 375],
                    backgroundColor: [
                        '#f9c74f',
                        '#ef233c',
                        '#0bb534'
                    ],
                    borderWidth: 0,
                    hoverOffset: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            font: {
                                size: 12
                            }
                        }
                    },
                    tooltip: {
                        backgroundColor: '#2b2d42',
                        titleFont: {
                            size: 14
                        },
                        bodyFont: {
                            size: 13
                        },
                        padding: 12
                    }
                }
            }
        });

        // Multiple Person Alerts Chart
        const alertsCtx = document.getElementById('alerts-chart').getContext('2d');
        const alertsChart = new Chart(alertsCtx, {
            type: 'pie',
            data: {
                labels: ['2 People', '3+ People'],
                datasets: [{
                    data: [380, 590],
                    backgroundColor: [
                        '#f9c74f',
                        '#ef233c',
                        '#4cc9f0'
                    ],
                    borderWidth: 0,
                    hoverOffset: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            font: {
                                size: 12
                            }
                        }
                    },
                    tooltip: {
                        backgroundColor: '#2b2d42',
                        titleFont: {
                            size: 14
                        },
                        bodyFont: {
                            size: 13
                        },
                        padding: 12
                    }
                }
            }
        });

        // Activity Trend Chart
        const activityCtx = document.getElementById('activity-trend-chart').getContext('2d');
        const activityChart = new Chart(activityCtx, {
            type: 'line',
            data: {
                labels: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
                datasets: [{
                    label: 'Helm Detections',
                    data: [42, 58, 65, 72, 80, 95, 75],
                    borderColor: '#4361ee',
                    backgroundColor: 'rgba(67, 97, 238, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointBackgroundColor: '#4361ee',
                    pointRadius: 4,
                    pointHoverRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            drawBorder: false,
                            color: 'rgba(0, 0, 0, 0.05)'
                        },
                        ticks: {
                            font: {
                                size: 12
                            }
                        }
                    },
                    x: {
                        grid: {
                            drawBorder: false,
                            display: false
                        },
                        ticks: {
                            font: {
                                size: 12
                            }
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        backgroundColor: '#2b2d42',
                        titleFont: {
                            size: 14
                        },
                        bodyFont: {
                            size: 13
                        },
                        padding: 12,
                        displayColors: false
                    }
                }
            }
        });

        // Tab functionality for activity trend chart
        document.querySelectorAll('.chart-tabs .chart-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // Remove active class from all tabs
                document.querySelectorAll('.chart-tabs .chart-tab').forEach(t => {
                    t.classList.remove('active');
                });

                // Add active class to clicked tab
                this.classList.add('active');

                // Update chart data based on selected tab
                const tabText = this.textContent.trim();

                if (tabText === 'Helm Detection') {
                    activityChart.data.datasets[0].label = 'Helm Detections';
                    activityChart.data.datasets[0].data = [42, 58, 65, 72, 80, 95, 75];
                    activityChart.data.datasets[0].borderColor = '#4361ee';
                    activityChart.data.datasets[0].backgroundColor = 'rgba(67, 97, 238, 0.1)';
                } else if (tabText === 'Receipts') {
                    activityChart.data.datasets[0].label = 'Receipt Detections';
                    activityChart.data.datasets[0].data = [132, 158, 175, 190, 210, 245, 150];
                    activityChart.data.datasets[0].borderColor = '#0bb534';
                    activityChart.data.datasets[0].backgroundColor = 'rgba(11, 181, 52, 0.1)';
                } else if (tabText === 'Dwell Time') {
                    activityChart.data.datasets[0].label = 'Avg Dwell Time (s)';
                    activityChart.data.datasets[0].data = [620, 645, 680, 635, 590, 710, 690];
                    activityChart.data.datasets[0].borderColor = '#f9c74f';
                    activityChart.data.datasets[0].backgroundColor = 'rgba(249, 199, 79, 0.1)';
                } else if (tabText === 'Multiple Person') {
                    activityChart.data.datasets[0].label = 'Multiple Person Alerts';
                    activityChart.data.datasets[0].data = [5, 8, 10, 12, 9, 7, 5];
                    activityChart.data.datasets[0].borderColor = '#ef233c';
                    activityChart.data.datasets[0].backgroundColor = 'rgba(239, 35, 60, 0.1)';
                }

                activityChart.update();
            });
        });

        // Toggle for People Counting Chart tabs
        document.querySelectorAll('.chart-tabs .chart-tab').forEach(tab => {
            if (tab.parentElement.previousElementSibling.textContent.includes('People Counting')) {
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs
                    this.parentElement.querySelectorAll('.chart-tab').forEach(t => {
                        t.classList.remove('active');
                    });

                    // Add active class to clicked tab
                    this.classList.add('active');

                    // You would update the chart data here based on the selected tab
                    // For now, we'll just demonstrate the UI change
                });
            }
        });

        // Alert Filter functionality
        document.querySelectorAll('.alert-filter button').forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons
                document.querySelectorAll('.alert-filter button').forEach(b => {
                    b.classList.remove('active');
                });

                // Add active class to clicked button
                this.classList.add('active');

                // You would filter the alerts here based on the selected filter
            });
        });

        // Add animation to alert count
        const alertCount = document.querySelector('.alert-count');
        setInterval(() => {
            alertCount.style.transform = 'scale(1.2)';
            setTimeout(() => {
                alertCount.style.transform = 'scale(1)';
            }, 300);
        }, 3000);

        // Add interactivity to the stat cards
        document.querySelectorAll('.stat-card').forEach(card => {
            card.addEventListener('click', function() {
                // You could show more detailed information when a card is clicked
                console.log('Card clicked:', this.querySelector('p').textContent);
            });
        });

        // Add interactivity to detection items
        document.querySelectorAll('.detection-item').forEach(item => {
            item.addEventListener('click', function() {
                // You could show more detailed information when an item is clicked
                console.log('Detection clicked:', this.querySelector('.detection-title').textContent);
            });
        });

        // Add download functionality
        document.getElementById('download-reports').addEventListener('click', function() {
            alert('Preparing download for current analytics reports...');
            // Implementation for actual download would go here
        });

        // Add filter change functionality
        document.getElementById('region-select').addEventListener('change', function() {
            updateDashboard();
        });

        document.getElementById('location-select').addEventListener('change', function() {
            updateDashboard();
        });

        document.getElementById('date-select').addEventListener('change', function() {
            updateDashboard();
        });

        function updateDashboard() {
            const region = document.getElementById('region-select').value;
            const location = document.getElementById('location-select').value;
            const date = document.getElementById('date-select').value;

            console.log(`Filters updated: ${region}, ${location}, ${date}`);
            // You would update all charts and data based on the new filters

            // For demonstration, let's simulate a loading state
            document.querySelectorAll('.chart-container').forEach(container => {
                container.style.opacity = '0.5';
            });

            setTimeout(() => {
                document.querySelectorAll('.chart-container').forEach(container => {
                    container.style.opacity = '1';
                });
                // Show a toast notification or some indication that data was refreshed
            }, 800);
        }
        document.addEventListener('DOMContentLoaded', function() {
    // Pagination functionality could be implemented here
    const paginationButtons = document.querySelectorAll('.pagination-btn');

    paginationButtons.forEach(button => {
        button.addEventListener('click', function() {
            // Remove active class from all buttons
            paginationButtons.forEach(btn => btn.classList.remove('active'));

            // Add active class to clicked button
            this.classList.add('active');

            // In a real implementation, this would trigger loading of different data
            // For this demo, we'll just update the info text
            const pageNumber = this.textContent;
            const startItem = (pageNumber - 1) * 10 + 1;
            const endItem = Math.min(pageNumber * 10, 500);

            document.querySelector('.pagination-info').textContent =
                `Showing ${startItem}-${endItem} of 500 ATMs`;
        });
    });
});
    </script>

 <script>
    // Sample data (in a real application, this would come from a server)
    const atmData = [
      {
        atm: "ATM St. Bogor",
        helm: 12,
        struk: 34,
        trashbin: 4,
        dwellTime: "210s",
        peopleCounting: 10,
        multiplePerson: 2,
        fasciaAtas: 20,
        fasciaBawah: 20
      },
      {
        atm: "ATM BSI Margonda",
        helm: 6,
        struk: 15,
        trashbin: 2,
        dwellTime: "150s",
        peopleCounting: 30,
        multiplePerson: 2,
        fasciaAtas: 20,
        fasciaBawah: 15
      },
      {
        atm: "ATM BSI Sudirman",
        helm: 6,
        struk: 15,
        trashbin: 2,
        dwellTime: "150s",
        peopleCounting: 12,
        multiplePerson: 3,
        fasciaAtas: 20,
        fasciaBawah: 15
      },
      {
        atm: "ATM St. MRT",
        helm: 6,
        struk: 15,
        trashbin: 2,
        dwellTime: "150s",
        peopleCounting: 13,
        multiplePerson: 3,
        fasciaAtas: 20,
        fasciaBawah: 15
      },
      {
        atm: "ATM Mall Kartini",
        helm: 8,
        struk: 22,
        trashbin: 5,
        dwellTime: "180s",
        peopleCounting: 25,
        multiplePerson: 1,
        fasciaAtas: 18,
        fasciaBawah: 22
      },
      {
        atm: "ATM Wisma BSI",
        helm: 15,
        struk: 40,
        trashbin: 6,
        dwellTime: "120s",
        peopleCounting: 15,
        multiplePerson: 4,
        fasciaAtas: 25,
        fasciaBawah: 18
      },
      {
        atm: "ATM Plaza Senayan",
        helm: 9,
        struk: 28,
        trashbin: 3,
        dwellTime: "200s",
        peopleCounting: 18,
        multiplePerson: 2,
        fasciaAtas: 15,
        fasciaBawah: 12
      },
      {
        atm: "ATM Grand Indonesia",
        helm: 11,
        struk: 32,
        trashbin: 7,
        dwellTime: "160s",
        peopleCounting: 22,
        multiplePerson: 5,
        fasciaAtas: 16,
        fasciaBawah: 17
      },
      {
        atm: "ATM Central Park",
        helm: 10,
        struk: 25,
        trashbin: 4,
        dwellTime: "190s",
        peopleCounting: 20,
        multiplePerson: 2,
        fasciaAtas: 22,
        fasciaBawah: 19
      },
      {
        atm: "ATM Kota Kasablanka",
        helm: 7,
        struk: 18,
        trashbin: 3,
        dwellTime: "175s",
        peopleCounting: 16,
        multiplePerson: 1,
        fasciaAtas: 14,
        fasciaBawah: 13
      },
      {
        atm: "ATM Gandaria City",
        helm: 14,
        struk: 38,
        trashbin: 5,
        dwellTime: "140s",
        peopleCounting: 28,
        multiplePerson: 3,
        fasciaAtas: 19,
        fasciaBawah: 21
      },
      {
        atm: "ATM Pondok Indah Mall",
        helm: 13,
        struk: 30,
        trashbin: 6,
        dwellTime: "165s",
        peopleCounting: 24,
        multiplePerson: 2,
        fasciaAtas: 17,
        fasciaBawah: 16
      }
    ];

    // For demonstration, create more dummy data
    for (let i = 0; i < 38; i++) {
      const randomIndex = Math.floor(Math.random() * atmData.length);
      const baseName = atmData[randomIndex].atm;

      atmData.push({
        atm: `${baseName} ${i+1}`,
        helm: Math.floor(Math.random() * 20) + 1,
        struk: Math.floor(Math.random() * 45) + 5,
        trashbin: Math.floor(Math.random() * 10) + 1,
        dwellTime: `${Math.floor(Math.random() * 200) + 100}s`,
        peopleCounting: Math.floor(Math.random() * 35) + 5,
        multiplePerson: Math.floor(Math.random() * 6),
        fasciaAtas: Math.floor(Math.random() * 25) + 10,
        fasciaBawah: Math.floor(Math.random() * 22) + 10
      });
    }

    // Setup
    let currentPage = 1;
    const rowsPerPage = 10;
    let filteredData = [...atmData];
    let sortDirection = 1; // 1 for ascending, -1 for descending
    let sortColumn = 0; // Default sort column index

    // Initial render
    renderTable();
    renderPagination();

    // Function to render the table
    function renderTable() {
  const tableBody = document.getElementById('tableBody');
  tableBody.innerHTML = '';

  const start = (currentPage - 1) * rowsPerPage;
  const end = Math.min(start + rowsPerPage, filteredData.length);

  if (filteredData.length === 0) {
    tableBody.innerHTML = `
      <tr>
        <td colspan="9" class="no-results">No results found</td>
      </tr>
    `;
    return;
  }

  for (let i = start; i < end; i++) {
    const item = filteredData[i];
    const row = document.createElement('tr');

    row.innerHTML = `
      <td><input type="checkbox" class="row-checkbox" data-atm="${item.atm}"></td>
      <td>${item.atm}</td>
      <td>${item.helm}</td>
      <td>${item.struk}</td>
      <td>${item.trashbin}</td>
      <td>${item.dwellTime}</td>
      <td>${item.peopleCounting}</td>
      <td>${item.multiplePerson > 0 ? `<span class="alert">${item.multiplePerson}</span>` : '0'}</td>
      <td>Open: ${item.fasciaAtas}<br />Closed: ${item.fasciaBawah}</td>
    `;

    tableBody.appendChild(row);
  }
}

    // Function to render pagination
    function renderPagination() {
      const pagination = document.getElementById('pagination');
      pagination.innerHTML = '';

      const totalPages = Math.ceil(filteredData.length / rowsPerPage);

      // Create pagination buttons
      if (totalPages > 1) {
        // First page button
        const firstBtn = document.createElement('button');
        firstBtn.className = `pagination-btn${currentPage === 1 ? ' active' : ''}`;
        firstBtn.textContent = '1';
        firstBtn.onclick = () => goToPage(1);
        pagination.appendChild(firstBtn);

        // Show ellipsis for many pages
        if (currentPage > 3) {
          const ellipsis = document.createElement('span');
          ellipsis.className = 'pagination-ellipsis';
          ellipsis.textContent = '...';
          pagination.appendChild(ellipsis);
        }

        // Show surrounding pages
        for (let i = Math.max(2, currentPage - 1); i <= Math.min(totalPages - 1, currentPage + 1); i++) {
          if (i === 1 || i === totalPages) continue; // Skip first and last as they're added separately

          const btn = document.createElement('button');
          btn.className = `pagination-btn${currentPage === i ? ' active' : ''}`;
          btn.textContent = i;
          btn.onclick = () => goToPage(i);
          pagination.appendChild(btn);
        }

        // Show ellipsis for many pages
        if (currentPage < totalPages - 2) {
          const ellipsis = document.createElement('span');
          ellipsis.className = 'pagination-ellipsis';
          ellipsis.textContent = '...';
          pagination.appendChild(ellipsis);
        }

        // Last page button (if more than one page)
        if (totalPages > 1) {
          const lastBtn = document.createElement('button');
          lastBtn.className = `pagination-btn${currentPage === totalPages ? ' active' : ''}`;
          lastBtn.textContent = totalPages;
          lastBtn.onclick = () => goToPage(totalPages);
          pagination.appendChild(lastBtn);
        }
      }

      // Page info
      const pageInfo = document.createElement('div');
      pageInfo.className = 'pagination-info';
      const start = Math.min((currentPage - 1) * rowsPerPage + 1, filteredData.length);
      const end = Math.min(currentPage * rowsPerPage, filteredData.length);
      pageInfo.textContent = `Showing ${start}–${end} of 500 ATMs`;
      pagination.appendChild(pageInfo);
    }

    // Function to change page
    function goToPage(page) {
      currentPage = page;
      renderTable();
      renderPagination();
    }

    // Function to search the table
    function searchTable() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();

      if (searchTerm === '') {
        filteredData = [...atmData];
      } else {
        filteredData = atmData.filter(item => {
          return (
            item.atm.toLowerCase().includes(searchTerm) ||
            item.helm.toString().includes(searchTerm) ||
            item.struk.toString().includes(searchTerm) ||
            item.trashbin.toString().includes(searchTerm) ||
            item.dwellTime.toLowerCase().includes(searchTerm) ||
            item.peopleCounting.toString().includes(searchTerm) ||
            item.multiplePerson.toString().includes(searchTerm) ||
            item.fasciaAtas.toString().includes(searchTerm) ||
            item.fasciaBawah.toString().includes(searchTerm)
          );
        });
      }

      // Reset to first page after search
      currentPage = 1;
      renderTable();
      renderPagination();
    }

    // Function to sort table
    function sortTable(columnIndex) {
      // If same column, toggle direction
      if (sortColumn === columnIndex) {
        sortDirection *= -1;
      } else {
        sortColumn = columnIndex;
        sortDirection = 1;
      }

      filteredData.sort((a, b) => {
        const keys = ['atm', 'helm', 'struk', 'trashbin', 'dwellTime', 'peopleCounting', 'multiplePerson', 'fasciaAtas'];
        const key = keys[columnIndex];

        // Special case for dwell time (remove 's' and compare as numbers)
        if (key === 'dwellTime') {
          const aValue = parseInt(a[key].replace('s', ''));
          const bValue = parseInt(b[key].replace('s', ''));
          return sortDirection * (aValue - bValue);
        }

        // Special case for fascia (using fasciaAtas for sorting)
        if (columnIndex === 7) {
          return sortDirection * (a.fasciaAtas - b.fasciaAtas);
        }

        // For string values
        if (typeof a[key] === 'string') {
          return sortDirection * a[key].localeCompare(b[key]);
        }

        // For numeric values
        return sortDirection * (a[key] - b[key]);
      });

      renderTable();
    }

    // Function to export to Excel
    function exportToExcel() {
      // Create a worksheet
      const ws = XLSX.utils.json_to_sheet(
        filteredData.map(item => ({
          'ATM': item.atm,
          'Helm': item.helm,
          'Struk': item.struk,
          'Trashbin': item.trashbin,
          'Dwell Time': item.dwellTime,
          'People Counting': item.peopleCounting,
          'Multiple Person': item.multiplePerson,
          'Fascia Atas': item.fasciaAtas,
          'Fascia Bawah': item.fasciaBawah
        }))
      );

      // Create a workbook
      const wb = XLSX.utils.book_new();
      XLSX.utils.book_append_sheet(wb, ws, 'ATM Detection');

      // Generate Excel file
      const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });

      // Save file
      const today = new Date();
      const dateStr = `${today.getFullYear()}-${(today.getMonth()+1).toString().padStart(2, '0')}-${today.getDate().toString().padStart(2, '0')}`;
      saveAsExcel(excelBuffer, `ATM_Detection_${dateStr}.xlsx`);
    }

    // Helper function to save as Excel
    function saveAsExcel(buffer, fileName) {
      const data = new Blob([buffer], { type: 'application/octet-stream' });
      saveAs(data, fileName);
    }

    function toggleDropdown() {
  const dropdown = document.getElementById("dropdownMenu");
  dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
}

window.onclick = function(event) {
  if (!event.target.matches('.dropdown-toggle')) {
    const dropdowns = document.getElementsByClassName("dropdown-menu");
    for (let i = 0; i < dropdowns.length; i++) {
      dropdowns[i].style.display = "none";
    }
  }
}

// Dummy export functions
function exportToExcel() {
  alert("Exporting to Excel...");
  // implement your Excel export logic here
}

function exportToPDF() {
  alert("Exporting to PDF...");
  // implement your PDF export logic here
}

function exportToCSV() {
  alert("Exporting to CSV...");
  // implement your CSV export logic here
}

function getSelectedATMs() {
  const selected = [];
  document.querySelectorAll('.row-checkbox:checked').forEach(cb => {
    selected.push(cb.getAttribute('data-atm'));
  });
  return selected;
}


  </script>

    <!-- // thanks, abdul m. // -->
  </main>
</html>
